console.log('This site was generated by Hugo.');

document.addEventListener("DOMContentLoaded", function () {
  const loaderOverlay = document.getElementById('loader-overlay');
  
  // Delay fade-out to match animation duration
  setTimeout(() => {
    loaderOverlay.style.opacity = "0";
    loaderOverlay.style.pointerEvents = "none";
  }, 2000); // Matches the logo-slide animation timing
});

document.addEventListener('scroll', function () {
  const navbar = document.querySelector('.navbar');
  const logo = document.getElementById("navbar-logo");
  if (!logo) return;
  // Get the logo paths from data attributes
  const defaultLogo = logo.dataset.default;
  const scrolledLogo = logo.dataset.scrolled;

  const logoicon = document.getElementById("logoicon");
  if (!logoicon) return;
  // get logicon paths from data attributes
  const defaultlogicon = logoicon.dataset.default;
  const scrolledlogicon = logoicon.dataset.scrolled;


  if (window.scrollY > 100) { // Adjust the scroll threshold as needed
    navbar.classList.add('scrolled');
    logo.src = scrolledLogo;
    logoicon.src = scrolledlogicon;
  } else {
    navbar.classList.remove('scrolled');
    logo.src = defaultLogo;
    logoicon.src = defaultlogicon;
  }
});

// Close navbar when clicking outside
document.addEventListener('click', (event) => {
  const navbar = document.querySelector('.navbar');
  const navbarToggler = document.querySelector('.navbar-toggler');
  const navbarCollapse = document.querySelector('#navbarContent');

  // Check if the click is outside the navbar
  if (navbar && !navbar.contains(event.target)) {
    // Ensure the navbar toggler icon closes
    if (navbarToggler.classList.contains('collapsed') === false) {
      navbarToggler.classList.add('collapsed');
    }

    // Hide the navbar collapse if it is shown
    const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse);
    if (bsCollapse && navbarCollapse.classList.contains('show')) {
      bsCollapse.hide();
    }
  }
});


// Close other dropdowns when a new one is opened
document.querySelectorAll('.dropdown-toggle').forEach(dropdownToggle => {
  dropdownToggle.addEventListener('click', function () {
    const openDropdowns = document.querySelectorAll('.dropdown.show');
    openDropdowns.forEach(dropdown => {
      if (dropdown !== this.parentElement) {
        dropdown.classList.remove('show');
        const menu = dropdown.querySelector('.dropdown-menu');
        menu.classList.remove('show');
      }
    });
  });
});
